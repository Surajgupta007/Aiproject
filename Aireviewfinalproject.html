<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReviewSummarizer - Get the gist of product reviews</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans min-h-screen flex flex-col">
    <header class="bg-gradient-to-r from-indigo-600 to-purple-700 text-white py-6 shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center mb-4 md:mb-0">
                    <i class="fas fa-search-dollar text-3xl mr-3"></i>
                    <h1 class="text-2xl font-bold">ReviewSummarizer</h1>
                </div>
                <p class="text-blue-100">Get the gist of product reviews across the web</p>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 flex-grow">
        <div class="max-w-4xl mx-auto">
            <!-- Input Section -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                <h2 class="text-xl font-semibold mb-4 text-gray-800">Enter Product Link</h2>
                <div class="flex flex-col md:flex-row gap-4">
                    <input 
                        type="text" 
                        id="productLink" 
                        placeholder="Paste product URL here (e.g., amazon.com/product/...)" 
                        class="flex-grow px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
                    >
                    <button 
                        id="summarizeBtn" 
                        class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition duration-200 flex items-center justify-center"
                    >
                        <span>Summarize Reviews</span>
                        <i class="fas fa-bolt ml-2"></i>
                    </button>
                </div>
                <div class="mt-4 text-sm text-gray-500">
                    <p>Supported sites: Amazon, Best Buy, Walmart, Target, and more</p>
                </div>
            </div>

            <!-- Loading State -->
            <div id="loadingState" class="hidden bg-white rounded-lg shadow-md p-8 mb-8 text-center">
                <div class="animate-spin inline-block w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full mb-4"></div>
                <p class="text-gray-700 text-lg">Analyzing reviews across multiple sites...</p>
                <p class="text-sm text-gray-500 mt-2">This may take a few seconds</p>
            </div>

            <!-- Error State -->
            <div id="errorState" class="hidden bg-white rounded-lg shadow-md p-6 mb-8">
                <div class="flex items-start">
                    <div class="mr-4 text-red-500">
                        <i class="fas fa-exclamation-circle text-2xl"></i>
                    </div>
                    <div>
                        <h3 class="text-lg font-medium text-gray-800 mb-2">Error Processing Request</h3>
                        <p id="errorMessage" class="text-gray-600">Unable to process the product URL. Please check the link and try again.</p>
                        <button id="tryAgainBtn" class="mt-4 bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded-lg transition duration-200">
                            Try Again
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="hidden">
                <div class="bg-white rounded-lg shadow-md p-6 mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-xl font-semibold text-gray-800">Review Summary</h2>
                        <div id="ratingContainer" class="flex items-center">
                            <span id="productRating" class="bg-green-100 text-green-800 font-medium px-3 py-1 rounded-full text-sm">
                                <i class="fas fa-star mr-1"></i><span id="ratingValue">4.5</span>/5
                            </span>
                            <span id="totalReviewsCount" class="text-sm text-gray-500 ml-2">(128 reviews)</span>
                        </div>
                    </div>
                    
                    <div id="productInfo" class="flex flex-col md:flex-row gap-6 mb-6">
                        <div id="productImageContainer" class="w-full md:w-1/4 flex justify-center">
                            <div id="productImagePlaceholder" class="bg-gray-200 rounded w-full h-40 md:h-48 flex items-center justify-center overflow-hidden">
                                <i class="fas fa-image text-gray-400 text-4xl"></i>
                            </div>
                            <img id="productImage" class="hidden w-full h-40 md:h-48 object-contain rounded" src="" alt="Product Image">
                        </div>
                        <div class="md:w-3/4">
                            <h3 id="productName" class="text-lg font-medium text-gray-800 mb-2">Product Name</h3>
                            <p id="productDescription" class="text-gray-600 mb-3">Product description will appear here.</p>
                            <div id="productTags" class="flex flex-wrap gap-2 mb-3">
                                <!-- Tags will be dynamically inserted here -->
                            </div>
                            <div id="productPrice" class="text-lg font-semibold text-indigo-700"></div>
                        </div>
                    </div>

                    <hr class="my-6 border-gray-200">

                    <!-- Summary Tabs -->
                    <div class="mb-6">
                        <div class="flex overflow-x-auto border-b border-gray-200">
                            <button class="tab-btn active py-2 px-4 font-medium text-indigo-600 border-b-2 border-indigo-600 whitespace-nowrap" data-tab="overview">
                                Overview
                            </button>
                            <button class="tab-btn py-2 px-4 font-medium text-gray-500 hover:text-gray-700 whitespace-nowrap" data-tab="pros">
                                Pros
                            </button>
                            <button class="tab-btn py-2 px-4 font-medium text-gray-500 hover:text-gray-700 whitespace-nowrap" data-tab="cons">
                                Cons
                            </button>
                            <button class="tab-btn py-2 px-4 font-medium text-gray-500 hover:text-gray-700 whitespace-nowrap" data-tab="comparisons">
                                Comparisons
                            </button>
                            <button class="tab-btn py-2 px-4 font-medium text-gray-500 hover:text-gray-700 whitespace-nowrap" data-tab="userTypes">
                                User Types
                            </button>
                        </div>

                        <div class="py-4">
                            <div id="overview" class="tab-content block">
                                <p class="text-gray-700 leading-relaxed">
                                    Loading overview...
                                </p>
                            </div>
                            <div id="pros" class="tab-content hidden">
                                <ul id="prosList" class="list-disc pl-5 space-y-2 text-gray-700">
                                    <li>Loading pros...</li>
                                </ul>
                            </div>
                            <div id="cons" class="tab-content hidden">
                                <ul id="consList" class="list-disc pl-5 space-y-2 text-gray-700">
                                    <li>Loading cons...</li>
                                </ul>
                            </div>
                            <div id="comparisons" class="tab-content hidden">
                                <p class="text-gray-700 leading-relaxed">
                                    Loading comparisons...
                                </p>
                            </div>
                            <div id="userTypes" class="tab-content hidden">
                                <p class="text-gray-700 leading-relaxed">
                                    Loading user types...
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Review Sources -->
                    <div>
                        <h3 class="font-medium text-gray-800 mb-3">Sources Analyzed</h3>
                        <div id="sourcesList" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <!-- Sources will be dynamically inserted here -->
                            <div class="bg-gray-50 p-3 rounded-lg text-center">
                                <div class="flex items-center justify-center h-10 mb-2">
                                    <div class="animate-pulse bg-gray-200 h-8 w-24 rounded"></div>
                                </div>
                                <span class="text-sm text-gray-600">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Key Opinions Section -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">Key Opinions</h2>
                    
                    <div id="keyOpinions" class="space-y-4">
                        <!-- Key opinions will be dynamically inserted here -->
                        <div class="p-4 bg-gray-50 rounded-lg animate-pulse">
                            <div class="flex items-center mb-2">
                                <span class="bg-gray-200 h-6 w-20 rounded-full mr-2"></span>
                                <span class="bg-gray-200 h-4 w-48 rounded"></span>
                            </div>
                            <div class="bg-gray-200 h-16 w-full rounded"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-white py-6 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <p class="mb-2">ReviewSummarizer - Get the essence of product reviews in seconds</p>
            <p class="text-gray-400 text-sm">
                Powered by Gemini API | <a href="#" class="text-blue-300 hover:underline">Privacy Policy</a> | <a href="#" class="text-blue-300 hover:underline">Terms of Use</a>
            </p>
        </div>
    </footer>

    <script>
        // Tab functionality
        document.querySelectorAll('.tab-btn').forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all tabs
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active', 'text-indigo-600', 'border-b-2', 'border-indigo-600');
                    btn.classList.add('text-gray-500');
                });
                
                // Add active class to clicked tab
                button.classList.add('active', 'text-indigo-600', 'border-b-2', 'border-indigo-600');
                button.classList.remove('text-gray-500');
                
                // Hide all tab content
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                
                // Show selected tab content
                const tabId = button.getAttribute('data-tab');
                document.getElementById(tabId).classList.remove('hidden');
            });
        });

        // Try again button handler
        document.getElementById('tryAgainBtn').addEventListener('click', () => {
            document.getElementById('errorState').classList.add('hidden');
        });

        // Summarize button click handler
        document.getElementById('summarizeBtn').addEventListener('click', async () => {
            const productLink = document.getElementById('productLink').value.trim();
            
            if (!productLink) {
                showError('Please enter a valid product URL');
                return;
            }
            
            // Show loading state
            document.getElementById('loadingState').classList.remove('hidden');
            document.getElementById('resultsSection').classList.add('hidden');
            document.getElementById('errorState').classList.add('hidden');
            
            try {
                // For demo purposes, first try to get actual API results
                try {
                    await callGeminiAPI(productLink);
                } catch (apiError) {
                    console.warn("API call failed, using fallback demo data:", apiError);
                    // If API call fails, use demo data for testing
                    updateUI(getDemoData());
                    document.getElementById('loadingState').classList.add('hidden');
                    document.getElementById('resultsSection').classList.remove('hidden');
                }
            } catch (error) {
                showError(error.message || 'Error analyzing product reviews. Please try again.');
            }
        });
        
        function showError(message) {
            document.getElementById('errorMessage').textContent = message;
            document.getElementById('errorState').classList.remove('hidden');
            document.getElementById('loadingState').classList.add('hidden');
        }
        
        // Function to call Gemini API
        async function callGeminiAPI(productLink) {
            try {
                // Replace with your actual API key - should be secured in production
                const API_KEY = 'AIzaSyBOiFlR6KHhAnbolTCfvrhupaFs-FhEtmU'; 
                
                // Prepare the prompt for the Gemini API
                const prompt = `
                Analyze product reviews for the product at this URL: ${productLink}
                
                I need a comprehensive analysis of the product reviews. The product URL may be from Amazon, Best Buy, Walmart, Target, or any other e-commerce site. 
                
                You need to analyze the sentiment, common themes, pros, cons, comparisons with other products, and user types who like or dislike the product.
                
                Please provide your analysis in JSON format with the following structure:
                {
                    "productName": "Product name",
                    "description": "Brief product description",
                    "price": "Price if available",
                    "rating": "Overall rating out of 5",
                    "totalReviews": "Number of reviews analyzed",
                    "tags": ["tag1", "tag2", "tag3"],
                    "overview": "General overview of reviews",
                    "pros": ["pro1", "pro2", "pro3"],
                    "cons": ["con1", "con2", "con3"],
                    "comparisons": "How this product compares to alternatives",
                    "userTypes": "Types of users who like or dislike this product",
                    "sources": [
                        {"name": "Source1", "reviewCount": 123},
                        {"name": "Source2", "reviewCount": 45}
                    ],
                    "keyOpinions": [
                        {"type": "positive", "source": "Description", "opinion": "Opinion text"},
                        {"type": "negative", "source": "Description", "opinion": "Opinion text"},
                        {"type": "insight", "source": "Description", "opinion": "Opinion text"}
                    ]
                }
                
                Please ensure your response is ONLY the valid JSON with no additional text or formatting.
                `;
                
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }],
                        generationConfig: {
                            temperature: 0.2,
                            maxOutputTokens: 4096
                        }
                    }),
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(`API Error: ${errorData.error?.message || 'Unknown error'}`);
                }
                
                const responseData = await response.json();
                
                // Extract the text response from Gemini
                const textResponse = responseData.candidates[0].content.parts[0].text;
                
                // Try to extract JSON from the response
                let jsonDataMatch;
                let jsonText;
                
                // Try several patterns to extract JSON
                if (textResponse.includes('```json')) {
                    jsonDataMatch = textResponse.match(/```json\n([\s\S]*?)\n```/);
                    jsonText = jsonDataMatch ? jsonDataMatch[1] : null;
                } else if (textResponse.includes('```')) {
                    jsonDataMatch = textResponse.match(/```\n([\s\S]*?)\n```/);
                    jsonText = jsonDataMatch ? jsonDataMatch[1] : null;
                } else if (textResponse.trim().startsWith('{') && textResponse.trim().endsWith('}')) {
                    // The whole response might be JSON
                    jsonText = textResponse;
                } else {
                    // Try to find JSON-like structure
                    jsonDataMatch = textResponse.match(/({[\s\S]*})/);
                    jsonText = jsonDataMatch ? jsonDataMatch[1] : null;
                }
                
                if (!jsonText) {
                    throw new Error("Could not extract valid JSON from the API response");
                }
                
                // Clean up the JSON text (remove any non-JSON artifacts)
                jsonText = jsonText.trim();
                
                // Parse the JSON
                let data;
                try {
                    data = JSON.parse(jsonText);
                    
                    // Validate required fields
                    const requiredFields = ['productName', 'description', 'overview', 'pros', 'cons'];
                    for (const field of requiredFields) {
                        if (!data[field]) {
                            console.warn(`Required field missing: ${field}`);
                            data[field] = field === 'pros' || field === 'cons' ? [] : 'Not available';
                        }
                    }
                    
                } catch (e) {
                    console.error("Error parsing JSON:", e);
                    console.error("Raw text:", textResponse);
                    throw new Error("Failed to parse review data. Please try again.");
                }
                
                // Update UI with the results
                updateUI(data);
                
                // Hide loading, show results
                document.getElementById('loadingState').classList.add('hidden');
                document.getElementById('resultsSection').classList.remove('hidden');
                
            } catch (error) {
                console.error('Error calling API:', error);
                throw error;
            }
        }
        
        // Function to update UI with data
        function updateUI(data) {
            // Product Name and Description
            document.getElementById('productName').textContent = data.productName || 'Product Name Not Available';
            document.getElementById('productDescription').textContent = data.description || 'No description available';
            
            // Price
            const priceElement = document.getElementById('productPrice');
            if (data.price) {
                priceElement.textContent = data.price;
                priceElement.classList.remove('hidden');
            } else {
                priceElement.classList.add('hidden');
            }
            
            // Rating
            document.getElementById('ratingValue').textContent = data.rating || '?';
            
            // Update rating color based on value
            const ratingElement = document.getElementById('productRating');
            const rating = parseFloat(data.rating) || 0;
            
            if (rating >= 4) {
                ratingElement.className = 'bg-green-100 text-green-800 font-medium px-3 py-1 rounded-full text-sm';
            } else if (rating >= 3) {
                ratingElement.className = 'bg-yellow-100 text-yellow-800 font-medium px-3 py-1 rounded-full text-sm';
            } else {
                ratingElement.className = 'bg-red-100 text-red-800 font-medium px-3 py-1 rounded-full text-sm';
            }
            
            // Total reviews
            const totalReviewsElement = document.getElementById('totalReviewsCount');
            if (data.totalReviews) {
                totalReviewsElement.textContent = `(${data.totalReviews} reviews)`;
                totalReviewsElement.classList.remove('hidden');
            } else {
                totalReviewsElement.classList.add('hidden');
            }
            
            // Product Image - removed for now since we can't access external images
            document.getElementById('productImage').classList.add('hidden');
            document.getElementById('productImagePlaceholder').classList.remove('hidden');
            
            // Tags
            const tagsContainer = document.getElementById('productTags');
            tagsContainer.innerHTML = '';
            
            if (data.tags && data.tags.length > 0) {
                data.tags.forEach(tag => {
                    const tagElement = document.createElement('span');
                    tagElement.className = 'bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full';
                    tagElement.textContent = tag;
                    tagsContainer.appendChild(tagElement);
                });
            }
            
            // Overview tab
            document.getElementById('overview').innerHTML = `
                <p class="text-gray-700 leading-relaxed">${data.overview || 'No overview available'}</p>
            `;
            
            // Pros tab
            const prosElement = document.getElementById('prosList');
            prosElement.innerHTML = '';
            
            if (data.pros && data.pros.length > 0) {
                data.pros.forEach(pro => {
                    const li = document.createElement('li');
                    li.className = 'text-gray-700';
                    li.textContent = pro;
                    prosElement.appendChild(li);
                });
            } else {
                prosElement.innerHTML = '<li>No pros mentioned in reviews</li>';
            }
            
            // Cons tab
            const consElement = document.getElementById('consList');
            consElement.innerHTML = '';
            
            if (data.cons && data.cons.length > 0) {
                data.cons.forEach(con => {
                    const li = document.createElement('li');
                    li.className = 'text-gray-700';
                    li.textContent = con;
                    consElement.appendChild(li);
                });
            } else {
                consElement.innerHTML = '<li>No cons mentioned in reviews</li>';
            }
            
            // Comparisons tab
            document.getElementById('comparisons').innerHTML = `
                <p class="text-gray-700 leading-relaxed">${data.comparisons || 'No comparison information available'}</p>
            `;
            
            // User Types tab
            document.getElementById('userTypes').innerHTML = `
                <p class="text-gray-700 leading-relaxed">${data.userTypes || 'No user type information available'}</p>
            `;
            
            // Sources
            const sourcesContainer = document.getElementById('sourcesList');
            sourcesContainer.innerHTML = '';
            
            if (data.sources && data.sources.length > 0) {
                data.sources.forEach(source => {
                    const sourceElement = document.createElement('div');
                    sourceElement.className = 'bg-gray-50 p-3 rounded-lg text-center';
                    sourceElement.innerHTML = `
                        <div class="flex items-center justify-center h-10 mb-2">
                            <span class="font-medium text-gray-700">${source.name}</span>
                        </div>
                        <span class="text-sm text-gray-600">${source.reviewCount} reviews</span>
                    `;
                    sourcesContainer.appendChild(sourceElement);
                });
            } else {
                sourcesContainer.innerHTML = `
                    <div class="col-span-4 bg-gray-50 p-3 rounded-lg text-center">
                        <span class="text-gray-600">No source information available</span>
                    </div>
                `;
            }
            
            // Key Opinions
            const opinionsContainer = document.getElementById('keyOpinions');
            opinionsContainer.innerHTML = '';
            
            if (data.keyOpinions && data.keyOpinions.length > 0) {
                data.keyOpinions.forEach(opinion => {
                    let badgeClass = '';
                    let icon = '';
                    
                    switch(opinion.type.toLowerCase()) {
                        case 'positive':
                            badgeClass = 'bg-green-100 text-green-800';
                            icon = '<i class="fas fa-thumbs-up mr-1"></i>';
                            break;
                        case 'negative':
                            badgeClass = 'bg-red-100 text-red-800';
                            icon = '<i class="fas fa-thumbs-down mr-1"></i>';
                            break;
                        case 'insight':
                        case 'neutral':
                            badgeClass = 'bg-blue-100 text-blue-800';
                            icon = '<i class="fas fa-info-circle mr-1"></i>';
                            break;
                        default:
                            badgeClass = 'bg-gray-100 text-gray-800';
                            icon = '<i class="fas fa-comment mr-1"></i>';
                    }
                    
                    const opinionElement = document.createElement('div');
                    opinionElement.className = 'p-4 bg-gray-50 rounded-lg';
                    opinionElement.innerHTML = `
                        <div class="flex items-center mb-2">
                            <span class="${badgeClass} text-xs px-2 py-1 rounded-full mr-2">
                                ${icon}${opinion.type.charAt(0).toUpperCase() + opinion.type.slice(1)}
                            </span>
                            <span class="text-sm text-gray-500">${opinion.source || ''}</span>
                        </div>
                        <p class="text-gray-700">"${opinion.opinion}"</p>
                    `;
                    opinionsContainer.appendChild(opinionElement);
                });
            } else {
                opinionsContainer.innerHTML = `
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <p class="text-gray-700">No key opinions available from reviews</p>
                    </div>
                `;
            }
        }
        
        // Function to get demo data for testing when API is not available
        function getDemoData() {
            return {
                "productName": "Sony WH-1000XM4 Wireless Noise Cancelling Headphones",
                "description": "Premium wireless over-ear headphones with industry-leading noise cancellation, 30-hour battery life, and touch controls",
                "price": "$348.00",
                "rating": "4.7",
                "totalReviews": "12,483",
                "tags": ["Noise Cancelling", "Wireless", "Over-Ear", "Premium"],
                "overview": "The Sony WH-1000XM4 headphones receive overwhelmingly positive reviews across multiple retail platforms. Customers consistently praise the exceptional noise cancellation, sound quality, and comfortable fit even during extended use. Battery life exceeds expectations for most users, though some mention slight discomfort during very long sessions.",
                "pros": [
                    "Industry-leading noise cancellation technology",
                    "Exceptional sound quality with rich bass and clear highs",
                    "Comfortable for most users even during long sessions",
                    "Impressive 30+ hour battery life on a single charge",
                    "Intuitive touch controls and speak-to-chat feature",
                    "Reliable Bluetooth connectivity with multipoint connection"
                ],
                "cons": [
                    "Higher price point compared to many competitors",
                    "Some users report pressure discomfort during very long sessions",
                    "Touch controls can be too sensitive in certain situations",
                    "App occasionally has connectivity issues on some devices",
                    "Call quality is good but not as exceptional as the audio quality"
                ],
                "comparisons": "When compared to similar premium headphones like the Bose 700 and Apple AirPods Max, the Sony WH-1000XM4 is generally considered to have superior noise cancellation and better overall value. The Bose offers slightly better call quality, while the AirPods Max integrates more seamlessly with Apple devices but at a significantly higher price point.",
                "userTypes": "These headphones are particularly popular among frequent travelers, office workers in open floor plans, and audiophiles who appreciate detailed sound. Users who prioritize call quality over music or who wear glasses may find other options better suited to their needs.",
                "sources": [
                    {"name": "Amazon", "reviewCount": 8563},
                    {"name": "Best Buy", "reviewCount": 2487},
                    {"name": "Sony Direct", "reviewCount": 875},
                    {"name": "Walmart", "reviewCount": 558}
                ],
                "keyOpinions": [
                    {
                        "type": "positive",
                        "source": "Consistent across 80% of reviews",
                        "opinion": "The noise cancellation is truly outstanding. Multiple users report being able to work in noisy coffee shops or fly on planes without hearing ambient noise."
                    },
                    {
                        "type": "negative",
                        "source": "Mentioned by glasses wearers",
                        "opinion": "The ear cups can create pressure points where glasses frames press against the side of the head during extended wear periods of 3+ hours."
                    },
                    {
                        "type": "insight",
                        "source": "Recent reviews (last 3 months)",
                        "opinion": "The latest firmware update has significantly improved call quality and fixed the occasional Bluetooth stuttering that was mentioned in older reviews."
                    }
                ]
            };
        }
    </script>
</body>
</html>